{# app/templates/support/soporte_page.html #}
{% extends "base.html" %}

{% block title %}Soporte y Solicitudes - Skyking{% endblock %}

{% block head_extra %}
    {# Puedes copiar los estilos específicos del formulario de soporte aquí si no están en main_style.css #}
    <style>
        /* Estilos del formulario de soporte y la tarjeta de contacto/FAQ */
        /* Basados en el HTML autónomo que te di para soporte_solicitudes_simple.html */
        .card { background-color: #1E1E1E; padding: 25px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); width:100%; margin: 20px auto; }
        .card h2 { font-size: 1.8em; color: #00D9C0; margin-bottom: 20px; font-weight: 500; border-bottom: 1px solid #444; padding-bottom:10px;}
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #ccc; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 1px solid #444; border-radius: 4px; box-sizing: border-box; background-color: #2A2A2A; color: #E0E0E0; font-size: 1em; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #00D9C0; box-shadow: 0 0 0 0.2rem rgba(0,217,192,.25); }
        .btn-primary-custom { background-color: #00D9C0; color: #121212; text-decoration: none; padding: 12px 30px; border-radius: 25px; font-weight: 600; transition: background-color 0.3s ease, transform 0.2s ease; display: inline-block; border: none; cursor: pointer; }
        .btn-primary-custom:hover { background-color: #00bfa5; transform: scale(1.03); }
    </style>
{% endblock %}

{% block content %}
<div class="container page-padding">
    <h1>Centro de Soporte y Solicitudes</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}{% for C, M in messages %}<div class="alert alert-{{C}}" style="background-color: #333; color: #fff; padding: 10px; margin-bottom:10px; border-left: 5px solid '#dc3545' ">{{M}}</div>{% endfor %}{% endif %}
    {% endwith %}

    <div class="card">
        <h2>Crear Nueva Solicitud de Soporte</h2>
        <form method="POST" action="{{ url_for('support_page') }}"> {# Acción POST a esta misma ruta #}
            <div class="form-group">
                <label for="subject">Asunto:</label>
                <input type="text" id="subject" name="subject" required>
            </div>
            <div class="form-group">
                <label for="category">Categoría:</label>
                <select id="category" name="category" required>
                    <option value="" disabled selected>Selecciona una categoría...</option>
                    <option value="problema_pedido">Problema con un pedido</option>
                    <option value="consulta_tecnica">Consulta técnica</option>
                    <option value="problema_cuenta">Problema con mi cuenta</option>
                    <option value="sugerencia">Sugerencia</option>
                    <option value="otro">Otro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="order_id_ref">ID del Pedido (si aplica):</label>
                <input type="text" id="order_id_ref" name="order_id_ref" placeholder="Ej: 12345">
            </div>
            <div class="form-group">
                <label for="description">Describe tu solicitud:</label>
                <textarea id="description" name="description" rows="5" required></textarea>
            </div>
            {# <div class="form-group">
                <label for="attachment">Adjuntar Archivo (opcional):</label>
                <input type="file" id="attachment" name="attachment" style="padding:0; border:none;">
            </div> #}
            <button type="submit" class="btn btn-primary-custom">Enviar Solicitud</button>
        </form>
    </div>

    <div class="card" style="text-align:center; margin-top: 40px;">
        <h3>¿Necesitas Ayuda Inmediata?</h3>
        <p>Consulta nuestras <a href="#" style="color:#00D9C0;">Preguntas Frecuentes (FAQ)</a> o contacta con nosotros.</p>
        <p>Email: soporte@skyking.com | Teléfono: (607) 123-4567</p>
    </div>
</div>
{% endblock %}